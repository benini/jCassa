<html>
<head>
	<link rel="stylesheet" type="text/css" href="config/colori.css">
	<link rel="stylesheet" type="text/css" href="jcassa.css">

	<script type='application/javascript' src='fastclick.js'></script>
	<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
</head>
<body style="background-color: black;">

<audio id="click_snd" src="click.wav"></audio>

<div id="unknow-width-and-height" style="overflow: auto; position: fixed; left: 0px; top: 0px;">
    <div id="prezzi" style="width:100%"></div>
</div>

<div id="unknow-height" style="overflow: auto; position: fixed; right: 0px; top: 0px;">
    <div id="scontr"></div>
</div>

<div id="unknow-width" style="overflow: auto; position: fixed; left: 0px; bottom: 0px;">
	<table><tr id="reparti"></tr></table>
</div>

<div style="position: fixed; right: 0px; bottom: 3px;">
	<div id="tot1" class="metro-tile tile-totale tile-totale-chiusura">
		<div id="tot1_riga1">TOTALE</div>
		<div id="tot1_riga2"></div>
	</div>
</div>

<div id="modalInput" class="modalInput">

    <div id="modalInputChiusura" class="modalInput">
	    <div class="modalInputBackground"></div>
        
        <ul style="color: white;">
            <li>Lettura/Chiusura fiscale</li>
            <li>Ristampa non fiscale ultimo scontrino</li>
            <li>Stampa DGFE fra date</li>
            <li>Cambia descrizione/prezzi/posizione dei prodotti</li>
        </ul>
    </div>

    <div id="modalInputTotale" class="modalInput">
        <div class="modalInputBackground"></div>
        <ul style="color: white;">
            <li>Riapri scontrino</li>
            <li>Annulla scontrino</li>
            <li>Scegli totale di chiusura</li>
            <li>Buoni Pasto</li>
            <li>Fattura/Scontrino parlante</li>
            <li>Preconto con salvataggio del nome</li>
        </ul>
    </div>

    <div id="modalInputProdotto" class="modalInput">
	    <div class="modalInputBackground"></div>

	    <div style="float:right; margin-right: 10px;">
		    <div onclick="modalInputAnnulla();" class="pulsante pulsante_annulla"></div>
		    <div id="prodotto_elimina" class="pulsante pulsante_annulla" style="margin-top: 26px" 
                onclick="uiEventProdottoElimina()"></div>
		    <div id="prodotto_conferma" class="pulsante pulsante_annulla" style="margin-top: 26px"
                onclick="uiEventProdottoOK()"></div>
	    </div>

    	<table id="prodotto_keypad" class="keypad" style="margin-top: 34px; margin-right: 50px;">
        	<tr><td colspan=3 id="prodotto_prezzo">
		        <div style="font-size:18px; margin-bottom: 2px; text-align:center;">PREZZO UNITARIO</div>
		        <div id="prodotto_digit_prezzo"></div>
		    </td></tr>
		    <tr><td colspan=3 id="prodotto_quantita">
		        <div style="font-size:18px; margin-bottom: 2px; text-align:center;">QUANTITA'</div>
		        <div id="prodotto_digit_quantita"></div>
		    </td></tr>
		    <tr><td>1</td><td>2</td><td>3</td></tr>
		    <tr><td>4</td><td>5</td><td>6</td></tr>
    		<tr><td>7</td><td>8</td><td>9</td></tr>
	    	<tr><td>0</td><td id="prodotto_keypad_special">00</td><td style="color: red;">C</td></tr>
	    </table>
    </div>

    <div id="modalInputResto" class="modalInput">
	    <div class="modalInputBackground"></div>

	    <div style="float:right">
        	<div id="resto_annulla" style="
	width: 70px;
	height: 70px;
	color: #FFF;
	padding: 0px;
	border-width: 3px;
	border-style: solid;
	background-image: url('img/close.png');
	background-color: red;
	background-size: 60%;
	background-position: center center;
	background-repeat: no-repeat;
	border-radius: 100%;">
	        </div>

	        <div onclick="modalInputAnnulla();" style="
	width: 80px;
	height: 80px;
	color: #FFF;
	padding: 0px;
	border-width: 3px;
	border-style: solid;
	background-image: url('img/close.png');
	background-color: green;
	background-size: 60%;
	background-position: center center;
	background-repeat: no-repeat;
	border-radius: 10px;">
	        </div>
    	</div>

    	<table id="resto_keypad" class="keypad" style="margin-top: 30px; margin-right: 30px;">
	    	<tr><td colspan=3 style="background-color: #D8512B; border-color: #DC6241;">
		        <div style="font-size:18px; margin-bottom: 2px; text-align:center;">RESTO</div>
		        <div id="resto_calcolato"></div>
		    </td></tr>
		    <tr><td colspan=3><div id="resto_digitato"></div></td></tr>
		    <tr><td>1</td><td>2</td><td>3</td></tr>
		    <tr><td>4</td><td>5</td><td>6</td></tr>
		    <tr><td>7</td><td>8</td><td>9</td></tr>
		    <tr><td>0</td><td>00</td><td style="color: red;">C</td></tr>
	    </table>
    </div>

</div>


<script>

var resto_str = "";

document.getElementById("resto_annulla").onclick = uiEventAnnullaResto();
var tasti = document.getElementById("resto_keypad").getElementsByTagName("TD");
for (var i = 0; i < tasti.length; i++) {
	if (tasti[i].colSpan == 1) {
		tasti[i].onclick = uiEventRestoKeypad();
	}
}

document.getElementById("prodotto_prezzo").onclick = uiEventProdottoCambiaPrezzo();
document.getElementById("prodotto_quantita").onclick = uiEventProdottoCambiaQuantita();
tasti = document.getElementById("prodotto_keypad").getElementsByTagName("TD");
for (var i = 0; i < tasti.length; i++) {
	if (tasti[i].colSpan == 1) {
		tasti[i].onclick = uiEventProdottoKeypad();
	}
}

function uiEventAnnullaResto() { 
	return function () {
		animaClick(this);
//TODO: Questo è un hack da cambiare quando avrò un modo migliore per capire se c'è uno scontrino da inviare
		var x = document.getElementById("scontr").firstChild.innerHTML;
		if (x.indexOf("ULTIMA VENDITA") == -1) { modalInput('Totale'); }
		else { modalInputAnnulla(); }
	}
}

function uiEventRestoKeypad() { 
	return function () {
		animaClick(this);
		var tasto = this.innerHTML;
		if (tasto == "C") {
			tasto = "";
			resto_str = "";
		}
		resto_str += tasto;
		var a = String((resto_str / 100).toFixed(2));
		document.getElementById("resto_digitato").innerHTML = "&euro; " + a.replace(".", ",");

		var b = scontrino.getResto(a)[1];
		document.getElementById("resto_calcolato").innerHTML = "&euro; " + b.replace(".", ",");
	}
}

var prodotto_str = "";
var prodotto_visore = "quantita";
var prodotto_tile;

function uiEventProdottoOK() {
    updateTileProdotto(prodotto_tile, 
        document.getElementById("prodotto_digit_quantita").innerHTML.replace(",","."),
        document.getElementById("prodotto_digit_prezzo").innerHTML.replace("\u20ac ", ""));
    modalInputAnnulla();
}

function uiEventProdottoElimina() {
    scontrino.elimina(prodotto_tile.idx);    
    document.getElementById("scontr").removeChild(prodotto_tile);
    updateTotale();    
    modalInputAnnulla();
}


function uiEventProdottoCambiaPrezzo() { 
    return function () {
    	animaClick(this);
        prodotto_str = "";
        prodotto_visore = "prezzo";
        document.getElementById("prodotto_keypad_special").innerHTML = "00";        
	}
}

function uiEventProdottoCambiaQuantita() { 
    return function () {
        animaClick(this);
        prodotto_str = "";
        prodotto_visore = "quantita";
        document.getElementById("prodotto_keypad_special").innerHTML = ",";
	}
}

function uiEventProdottoKeypad() { 
	return function () {
        var tasto = this.innerHTML;
        if (tasto == "," && prodotto_str.indexOf(",") != -1) { return; };
        
		animaClick(this);
		
		if (tasto == "C") {
			tasto = "";
			prodotto_str = "";
		}
        
		prodotto_str += tasto;
        
        if (prodotto_visore == "prezzo") {
            var a = String((prodotto_str / 100).toFixed(2));
    	    document.getElementById("prodotto_digit_prezzo").innerHTML = "&euro; " + a.replace(".", ",");
        } else {            
    		document.getElementById("prodotto_digit_quantita").innerHTML = prodotto_str;
        }
	}
}

</script>



<script>
/*
Diverse finestre di input:
- "Chiusura": 
		attivata cliccando su totale senza scontrini aperti, cioè dopo aver stampato (o annullato) uno scontrino
		permette di fare le letture/chiusure di cassa e le stampe del dgfe
- "Prodotto":
		attivata cliccando su tile-scontrino
		permette di cambiare la quantità ed il prezzo del prodotto nello scontrino
- "Totale": 
		attivata cliccando su subtotale (scontrino aperto)
		permette di cambiare il totale di chiusura, fare fatture e scontrini parlanti e pagamenti con i buoni pasto
- "Resto":
		attivata cliccando su tile-scontrino-resto
		permette di inserire l'importo esatto su cui calcolare il resto; se attivata prima di stampare lo scontrino l'importo verrà scritto sullo scontrino  stesso
*/
function modalInput(tipo, tile) {
	if (tipo == "Resto") {
		resto_str = "";
		document.getElementById("resto_digitato").innerHTML = "&euro; 0,00";
		document.getElementById("resto_calcolato").innerHTML = "&euro; 0,00";
	} else if (tipo == "Prodotto") {
        prodotto_str = "";
        prodotto_visore = "quantita";
        document.getElementById("prodotto_keypad_special").innerHTML = ",";

        var idx = 0;
        var tiles = document.getElementById("scontr").childNodes;
        for (; idx < tiles.length && tiles[idx] != tile; ++idx) {}        
        if (idx == tiles.length) { console.log("Errore in modalInput"); return; }
        prodotto_tile = tile;
        prodotto_tile.idx = idx;
        //TODO: non è bello accedere direttamente all'array        
        document.getElementById("prodotto_digit_prezzo").innerHTML = "&euro; " + scontrino.righe[idx].prezzo;
        document.getElementById("prodotto_digit_quantita").innerHTML = scontrino.righe[idx].quant;
	}

	modalInputAnnulla();
	document.getElementById("modalInput" + tipo).style.display = "block";
	document.getElementById("modalInput").style.display = "block";
}

function modalInputAnnulla() {
	document.getElementById("modalInput").style.display = "none";
	document.getElementById("modalInputChiusura").style.display = "none";
	document.getElementById("modalInputProdotto").style.display = "none";
	document.getElementById("modalInputTotale").style.display = "none";
	document.getElementById("modalInputResto").style.display = "none";
}
</script>

<script type="text/javascript">
	// Caricamento FastClick per iPad
	window.addEventListener('load', function() { new FastClick(document.body); dyn_dimensions(); }, false);


	// Calcolo della dimensione della sezione "prezzi" in base alla spazio disponbile
	function dyn_dimensions() {
        // L'idea originale era di creare due classi unknown-width e unknown-height e assegnarle
        // agli oggetti che ne avevano bisogno, ma è più complicato di quanto pensassi senza jQuery
        // e per adesso voglio scrivere puro Javascript per imparare i dettagli
		var dyn_height = window.innerHeight - Math.floor(1.20 * document.getElementById("tot1").offsetHeight);
		var dyn_width = window.innerWidth - Math.floor(1.05 * document.getElementById("tot1").offsetWidth);

		document.getElementById("unknow-width-and-height").style.width = dyn_width;
		document.getElementById("unknow-width-and-height").style.height = dyn_height;
		document.getElementById("unknow-width").style.width = dyn_width;
		document.getElementById("unknow-height").style.height = dyn_height;

        document.getElementById("modalInput").style.width = dyn_width;
        document.getElementById("modalInput").style.height = window.innerHeight;
	}
	window.onresize=function() { dyn_dimensions(); }

	function animaClick(tile) {
		tile.className = tile.className.replace(" tile_reset", "");
		tile.className += " tile_middle";
		setTimeout(function() {tile.className = tile.className.replace(" tile_middle", " tile_reset");}, 100);
		document.getElementById("click_snd").play();
	}

	function animaSelezionaRigaScontrino(divTile) {
		var scontr_last_sel = document.getElementById("scontr_selected");
		if (scontr_last_sel) {
			scontr_last_sel.className = scontr_last_sel.className.replace(" tile-scontrino-selected", "");
			scontr_last_sel.id = "";
		}

		if (divTile) {
			divTile.className += " tile-scontrino-selected";
			divTile.id = "scontr_selected";
			divTile.scrollIntoView();
		}
	}


	function uiEventCambiaReparto (r) {
		return function () {
			animaClick(this);
		    var table=document.getElementById("prezzi");
		    while (table.hasChildNodes()) { table.removeChild(table.lastChild); }

			var pr_array = reparti[r].prezzi;
			for (var i=0; i < pr_array.length; i++) {
				var divTile = document.createElement("div");
				divTile.className = "metro-tile " + reparti[r].col + " tile-prezzi";
				divTile.onclick = uiEventAggiungiProdotto(r, i);
				table.appendChild(divTile);
				var divDesc = document.createElement("div");
				divDesc.className = "desc "  + reparti[r].col;
				divDesc.innerHTML = pr_array[i].desc;
				divTile.appendChild(divDesc);
				var divPrezzo = document.createElement("div");
				divPrezzo.className = "prezzo";
				if (pr_array[i].prezzo == "") { divPrezzo.innerHTML = ""; }
				else { divPrezzo.innerHTML = "&euro; " + pr_array[i].prezzo; }
				divTile.appendChild(divPrezzo);
			}
		}
	}

	function uiEventAggiungiProdotto(idx_reparto, idx_prezzo) {
		return function () {
			animaClick(this);
			if (! scontrino.isAperto()) {
				var div_scontr = document.getElementById("scontr");
				while (div_scontr.hasChildNodes()) { div_scontr.removeChild(div_scontr.lastChild);	}
                
                var tot = document.getElementById("tot1");
                tot.className = tot.className.replace(" tile-totale-chiusura", " tile-totale-subtotale");
			}

			var prezzo = reparti[idx_reparto].prezzi[idx_prezzo].prezzo;
			var desc = reparti[idx_reparto].prezzi[idx_prezzo].desc;
            var quant = 1;
			var divTile;
			var idx = scontrino.indexOf(idx_reparto, desc, prezzo);
			if (idx == -1) {
				idx = scontrino.push(idx_reparto, 1, desc, prezzo);

    			divTile = document.createElement("div");
    			divTile.className = "metro-tile tile-scontrino " + reparti[idx_reparto].col;
				divTile.onclick = uiEventCambiaRigaScontrino();
                divTile.idx_reparto = idx_reparto;
                divTile.desc = desc;
                divTile.prezzo = prezzo;
				document.getElementById("scontr").appendChild(divTile);
			} else {
				divTile = document.getElementById("scontr").childNodes[idx];
                //TODO: non è bello accedere direttamente all'array
				quant = scontrino.righe[idx].quant +1;
			}
            
            updateTileProdotto(divTile, quant);
		}
	}
    
    function updateTileProdotto(tile, quant, prezzo, desc) {        
        var idx = 0;
        var tiles = document.getElementById("scontr").childNodes;
        for (; idx < tiles.length && tiles[idx] != tile; ++idx) {}        
        if (idx == tiles.length) { console.log("Errore in updateTileProdotto"); return; }
        
        //TODO: non è bello accedere direttamente all'array
        if (desc && desc != "") { scontrino.righe[idx].desc = desc; }
        if (quant && quant != "") { scontrino.righe[idx].quant = quant; }
        if (prezzo && prezzo != "") { scontrino.righe[idx].prezzo = prezzo; }
        
        tile.innerHTML = scontrino.righe[idx].desc + "<br>" + "N. " + String(scontrino.righe[idx].quant).replace(".",",") + "  x  &euro; " + scontrino.righe[idx].prezzo;
        
        animaSelezionaRigaScontrino(tile);
        
        updateTotale();
    }

	function updateTotale() {
		var tot = document.getElementById("tot1");
		tot.onclick = uiEventChiudiScontrino();
		document.getElementById("tot1_riga1").innerHTML = "SubTotale";
		document.getElementById("tot1_riga2").innerHTML = "&euro; " + scontrino.getTotale();
	}

	function uiEventCambiaRigaScontrino() {
		return function () {
			animaClick(this);
			if (! scontrino.isAperto()) { 
				uiEventRiapriScontrinoHelper();
			}
			var tile = this;
			animaSelezionaRigaScontrino(tile);
			modalInput("Prodotto", tile);
		}
	}

	function uiEventRiapriScontrino() {
		return function () {
			animaClick(this);
			uiEventRiapriScontrinoHelper();
		}
	}

	function uiEventRiapriScontrinoHelper() {
		scontrino.Riapri();
		var div_scontr = document.getElementById("scontr");
		if (div_scontr.lastChild) { div_scontr.removeChild(div_scontr.lastChild); }
		if (div_scontr.lastChild) { div_scontr.removeChild(div_scontr.lastChild); }
            
		var tot = document.getElementById("tot1");
		tot.className = tot.className.replace(" tile-totale-stampa", " tile-totale-subtotale");
		updateTotale();
		modalInputAnnulla();
	}


	function uiEventChiudiScontrino () {
		return function () {
            if (document.getElementById("modalInputProdotto").style.display != "none") {
                //TODO: Sarebbe meglio chiamare la conferma della finestra modale?
                return;
            }
            
			animaClick(this);
            var tot = document.getElementById("tot1");
			tot.onclick = uiEventInviaScontrino();
            tot.className = tot.className.replace(" tile-totale-subtotale", " tile-totale-stampa");
			document.getElementById("tot1_riga1").innerHTML = "";
			document.getElementById("tot1_riga2").innerHTML = "STAMPA";

			scontrino.chiudi();

			animaSelezionaRigaScontrino();

   			var divTile = document.createElement("div");
   			divTile.className = "metro-tile tile-scontrino-totale";
			divTile.onclick = uiEventRiapriScontrino();
			document.getElementById("scontr").appendChild(divTile);
  			divTile.innerHTML = "<div style='font-size:18px; margin-bottom: 10px; text-align:center;'>CONTANTI</div>";
            divTile.innerHTML += "TOTALE<br> &euro; " + scontrino.getTotale();

   			var divTile = document.createElement("div");
   			divTile.className = "metro-tile tile-scontrino-resto";
			divTile.onclick = function () { animaClick(this); modalInput("Resto"); };
			document.getElementById("scontr").appendChild(divTile);
  			divTile.innerHTML = "<div style='font-size:18px; margin-bottom: 10px; text-align:center;'>RESTO</div>";
			var i = 0;
			var resti = scontrino.getResto();
			while (i < resti.length) {
	            divTile.innerHTML += "<div style='float:left; width: 40%;'> &euro; " + resti[i++] + 
    			"</div><div style='float:left; width: 20%;'>==></div> &euro; " + resti[i++] + "<br>";
//				"</div><div style='float:left; width: 20%; height: 10px; background-image: url(img/r_arrow.gif); background-position: center;'></div> &euro; " + resti[i++] + "<br>";
			}
			divTile.scrollIntoView();

            modalInput("Totale");
		}
	}

	function uiEventInviaScontrino() {
		return function () {
			animaClick(this);
            var tot = document.getElementById("tot1");
			tot.onclick = uiEventLetture();
            tot.className = tot.className.replace(" tile-totale-stampa", " tile-totale-chiusura");
			document.getElementById("tot1_riga1").innerHTML = "";
			document.getElementById("tot1_riga2").innerHTML = "";
			modalInputAnnulla();

            // Disabilitare il click sui prodotti nello scontrino e su riapri scontrino
            // Mettere anche una qualche segno visivo che lo scontrino è stato stampato?
            var div_scontr = document.getElementById("scontr");
            for (var i = div_scontr.childNodes.length; i > 2; i--) {
                div_scontr.removeChild(div_scontr.firstChild);
            }
            
			div_scontr.firstChild.onclick = "";
            div_scontr.firstChild.innerHTML = "<div style='font-size:18px; margin-bottom: 10px; text-align:center;'>ULTIMA VENDITA</div>";
            div_scontr.firstChild.innerHTML += "TOTALE<br> &euro; " + scontrino.getTotale();
            
            scontrino.invia();
		}
	}

	function uiEventLetture() {
		return function () {
			animaClick(this);
			modalInput("Chiusura");
		}
	}

	var scontrino = {};
	scontrino.id = [];
	scontrino.righe = [];
	scontrino.creaID = function (rep, desc, prezzo) { return "r" + rep + "d" + desc + "p" + prezzo; }

	scontrino.push = function (rep, quant, desc, prezzo) {
		if (scontrino.id.length != scontrino.righe.length) { scontrino.righe.length = scontrino.id.length; }
		scontrino.righe.push({rep: rep, quant: quant, desc: desc, prezzo: prezzo});
		return scontrino.id.push(scontrino.creaID(rep, desc, prezzo)) -1;
	}
    
    scontrino.elimina = function (idx) {        
        scontrino.id.splice(idx, 1);
        scontrino.righe.splice(idx, 1);
    }
    
	scontrino.getTotale = function () {
		var scontrino_totale = 0;
		for (var i=0; i < scontrino.righe.length; ++i) {
			scontrino_totale += scontrino.righe[i].quant * scontrino.righe[i].prezzo.replace(",",".");
		}
		return scontrino_totale.toFixed(2).replace(".", ",");
	}
	scontrino.chiudi = function () {
        scontrino.id.length = 0;
    }
	scontrino.getResto = function (resto) {
		var res = [];
		var tot = scontrino.getTotale().replace(",", ".");

		if (resto) {
			var a = Number(resto.replace(",", ".")) - tot;
			if (a < 0) { a = 0; }
			res.push(resto);
			res.push(a.toFixed(2).replace(".", ","));
		} else {
			var tagli = [1, 5, 10, 50];
			for (var i = 0; i < tagli.length; i++) {
				var a = Math.ceil(tot / tagli[i]) * tagli[i];
				var b = a - tot;
				if (b != 0 && res.indexOf(a) == -1) { res.push(a); res.push(b); }
			}

			for (var i = 0; i < res.length; i++) {
				res[i] = res[i].toFixed(2).replace(".", ",");
			}
		}

		return res;
	}
	scontrino.Riapri = function () {
		scontrino.id.length = 0;
		for (var i=0; i<scontrino.righe.length; ++i) {
			var riga = scontrino.righe[i];
			scontrino.id.push(scontrino.creaID(riga.rep, riga.desc, riga.prezzo));
		}
	}
	scontrino.isAperto = function () {
        return scontrino.id.length != 0; 
	}
	scontrino.indexOf = function (rep, desc, prezzo) {
		var id = scontrino.creaID(rep, desc, prezzo);
		return scontrino.id.indexOf(id);
	}
	scontrino.invia = function () {
        scontrino.id.length = 0; 
    }

</script>


<script type="text/javascript">

function updateReparti() {
  for (var i = 0; i < reparti.length; i++) {
    var divTile = document.createElement("div");
    divTile.className = "metro-tile tile-reparti " + reparti[i].col;
    divTile.innerHTML = reparti[i].reparto;
    divTile.onclick = uiEventCambiaReparto(i);
	document.getElementById('reparti').insertCell(-1).appendChild(divTile);
  }
}











var reparti = [];
reparti.push({reparto: "BAR", col: "colore_caffe", prezzi: [] });
reparti.push({reparto: "BIRRE", col: "colore_birre", prezzi: [] });
reparti.push({reparto: "VINI", col: "colore_vini", prezzi: [] });
reparti.push({reparto: "PANINI", col: "colore_panini", prezzi: [] });
reparti.push({reparto: "CUCINA", col: "colore_cucina", prezzi: [
{desc: "CAFFE", prezzo: "1,10"},
{desc: "COCA", prezzo: "2,00"}
] });
reparti.push({reparto: "DESSERT", col: "colore_dessert", prezzi: [] });
reparti.push({reparto: "BAR", col: "metro-tile-purple", prezzi: [] });





reparti[0].prezzi.push({desc: "BAR", prezzo: ""});
reparti[0].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[1].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[1].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[1].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[1].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[1].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[1].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[1].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[1].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[1].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[1].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[1].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[1].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[1].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[1].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[1].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[1].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[1].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[2].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[2].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[2].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[2].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[2].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[3].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[3].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[3].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[3].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[3].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[3].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[3].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[4].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[4].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[4].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[4].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[4].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[4].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[5].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[5].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[5].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[5].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[5].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[5].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});
reparti[6].prezzi.push({desc: "CAFFE", prezzo: "1,10"});
reparti[6].prezzi.push({desc: "COCA", prezzo: "2,00"});
reparti[6].prezzi.push({desc: "Cappuccino", prezzo: "2,00"});
reparti[6].prezzi.push({desc: "Descrizione mooooooooooolto lunga", prezzo: "2,00"});
reparti[6].prezzi.push({desc: "TEA", prezzo: "1,80"});
reparti[6].prezzi.push({desc: "MENU PRANZO", prezzo: "11,90"});



function loadPrezzi() {
// Leggi da file onload
  updateReparti();
}

loadPrezzi();



		</script>
	</body>
</html>
